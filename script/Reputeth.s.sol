// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Script, console} from "forge-std/Script.sol";
import {Reputeth} from "../src/Reputeth.sol";

interface ICreateX {
    function deployCreate2(bytes32 salt, bytes calldata initCode) external payable returns (address);
}

//ICreateX constant CREATEX = ICreateX(0xba5Ed099633D3B313e4D5F7bdc1305d3c28ba5Ed);
// manyZero base: "0x000000000000b361194cfe6312EE3210d53C15AA",
// hash 0x2c8b14a270eb080c2662a12936bb6b2babf15bf8a2230000fb628801578cc0ac
// id #20147499493997875391309541615370766948495478027623120123640490530482999312556
// many zeros : 0x0000000000dd2df17f17d075628c2c7bb430813d
interface Create3 {
    function deploy(uint256 id, bytes calldata initCode) external payable returns (address);
}

contract ReputethScript is Script {
    function setUp() public {}

    Create3 constant C3 = Create3(0x000000000000b361194cfe6312EE3210d53C15AA);
    uint256 constant id = uint256(20147499493997875391309541615370766948495478027623120123640490530482999312556);

    function run() public {
        vm.startBroadcast();
        address reputeth = C3.deploy(id, abi.encodePacked(type(Reputeth).creationCode, abi.encode(msg.sender)));
        vm.stopBroadcast();
        console.log("OK:", reputeth == 0x0000000000dd2Df17F17d075628C2c7Bb430813D);
        console.log("Reputeth deployed at", reputeth);
        Reputeth rpt = Reputeth(reputeth);
        console.log("Owner", rpt.owner());
    }
}
//0x608034606f57601f610e1a38819003918201601f19168301916001600160401b03831184841017607357808492602094604052833981010312606f57516001600160a01b03811690819003606f575f80546001600160a01b031916919091179055604051610d9290816100888239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080806040526004361015610012575f80fd5b5f905f3560e01c90816301ffc9a714610ae85750806306fdde0314610a7357806318160ddd14610a1b578063313ce567146109e25780633ccfd60b1461097d5780635058c4601461086e57806370a0823114610824578063729ad39e146107155780638da5cb5b146106c457806395d89b4114610649578063a30b1bb0146105e6578063a4d66daf146105a3578063a9059cbb1461042e578063abdf2f9d146103e9578063b9f7945114610331578063f2fde38b14610271578063f3fef3a3146101495763fe4a63c7146100e4575f80fd5b346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657604060209173ffffffffffffffffffffffffffffffffffffffff610135610c8b565b168152600183522054604051908152f35b80fd5b50346101465760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657610181610c8b565b73ffffffffffffffffffffffffffffffffffffffff8254168033036102495773ffffffffffffffffffffffffffffffffffffffff9160446020928560405195869485937fa9059cbb00000000000000000000000000000000000000000000000000000000855260048501526024356024850152165af1801561023e57610205575080f35b6020813d602011610236575b8161021e60209383610bd5565b810103126102325751801515036101465780f35b5080fd5b3d9150610211565b6040513d84823e3d90fd5b6004837f5fc483c5000000000000000000000000000000000000000000000000000000008152fd5b50346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610146576102a9610c8b565b81549073ffffffffffffffffffffffffffffffffffffffff82163303610249579073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffff0000000000000000000000000000000000000000921691829116178255807f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b50346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101465773ffffffffffffffffffffffffffffffffffffffff61037e610c8b565b16908181526001602052604081205491815260026020526040812054918183820393128184128116918413901516176103bc57602082604051908152f35b807f4e487b7100000000000000000000000000000000000000000000000000000000602492526011600452fd5b503461014657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101465760206040516b033b2e3c9fd0803ce80000008152f35b50346101465760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657610466610c8b565b6024359069152d02c7e14af6800000821161057b578031156105535773ffffffffffffffffffffffffffffffffffffffff1680331461052b576040600383049333815260016020528181208581540190558281526002602052208281540190556040519182527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60203093a360405190815233907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60203092a3602060405160018152f35b6004837f4d9ecd91000000000000000000000000000000000000000000000000000000008152fd5b6004837f230bf497000000000000000000000000000000000000000000000000000000008152fd5b6004837fb92612ed000000000000000000000000000000000000000000000000000000008152fd5b503461014657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657602060405169152d02c7e14af68000008152f35b50346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657604060209173ffffffffffffffffffffffffffffffffffffffff610638610c8b565b168152600283522054604051908152f35b503461014657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261014657506106c060405161068a604082610bd5565b600381527f5250540000000000000000000000000000000000000000000000000000000000602082015260405191829182610c43565b0390f35b503461014657807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101465773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b50346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101465760043567ffffffffffffffff811161023257366023820112156102325780600401359067ffffffffffffffff8211610820573660248360051b830101116108205773ffffffffffffffffffffffffffffffffffffffff835416330361024957825b8281101561081c5760248160051b830101359073ffffffffffffffffffffffffffffffffffffffff8216809203610818576001916040516b033b2e3c9fd0803ce800000081527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60203092a3016107a6565b8480fd5b8380f35b8280fd5b50346101465760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610146576020610866610861610c8b565b610cae565b604051908152f35b50346109515760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610951576108a6610c8b565b73ffffffffffffffffffffffffffffffffffffffff5f5416908133036109555773ffffffffffffffffffffffffffffffffffffffff1690813b15610951575f916064839260405194859384927fd1660f99000000000000000000000000000000000000000000000000000000008452306004850152602484015260243560448401525af1801561094657610938575080f35b61094491505f90610bd5565b005b6040513d5f823e3d90fd5b5f80fd5b7f5fc483c5000000000000000000000000000000000000000000000000000000005f5260045ffd5b34610951575f7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610951575f80808073ffffffffffffffffffffffffffffffffffffffff81541647908282156109d9575bf11561094657005b506108fc6109d1565b34610951575f7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261095157602060405160128152f35b34610951575f7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126109515760206040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8152f35b34610951575f7ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610951576106c0604051610ab2604082610bd5565b600981527f52455055542e4554480000000000000000000000000000000000000000000000602082015260405191829182610c43565b346109515760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261095157600435907fffffffff00000000000000000000000000000000000000000000000000000000821680920361095157817f01ffc9a70000000000000000000000000000000000000000000000000000000060209314908115610bab575b8115610b81575b5015158152f35b90507f7f5828d0000000000000000000000000000000000000000000000000000000001483610b7a565b7f8da5cb5b0000000000000000000000000000000000000000000000000000000081149150610b73565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610c1657604052565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f602060409481855280519182918282880152018686015e5f8582860101520116010190565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361095157565b73ffffffffffffffffffffffffffffffffffffffff16805f5260026020526b033b2e3c9fd0803ce800000060405f205411610d5757805f52600260205260405f20546b033b2e3c9fd0803ce800000003906b033b2e3c9fd0803ce80000008211610d2a575f52600160205260405f20548101809111610d2a5790565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b505f9056fea2646970667358221220bdf0f7e3470161f199e1f50fe99b4077fca0be6e118a5e72dc94efc25b23d1b364736f6c634300081d00330000000000000000000000009906b794407bbe3c1ca9741fdb30dc2facc838de
